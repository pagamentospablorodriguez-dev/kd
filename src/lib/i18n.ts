import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

const resources = {
  en: {
    translation: {
      // Auth
      'auth.signInTitle': 'Sign In to Your Account',
      'auth.signUpTitle': 'Create a New Account',
      'auth.emailLabel': 'Email',
      'auth.emailPlaceholder': 'you@example.com',
      'auth.passwordLabel': 'Password',
      'auth.passwordPlaceholder': '••••••••',
      'auth.confirmPasswordLabel': 'Confirm Password',
      'auth.confirmPasswordPlaceholder': '••••••••',
      'auth.signInButton': 'Sign In',
      'auth.signUpButton': 'Sign Up',
      'auth.loading': 'Loading...',
      'auth.or': 'or',
      'auth.signInWithGoogle': 'Sign in with Google',
      'auth.signInWithApple': 'Sign in with Apple',
      'auth.noAccount': "Don't have an account?",
      'auth.haveAccount': 'Already have an account?',
      'auth.signUpLink': 'Sign up',
      'auth.signInLink': 'Sign in',
      'auth.passwordMismatch': 'Passwords do not match!',
      'auth.signUpSuccess': 'Sign up successful! Please check your email to confirm.',
      'auth.signInSuccess': 'Welcome back!',

      // Child Selector
      'childSelector.title': 'Select a Child',
      'childSelector.premiumUpsellText': 'You are on the free plan. Create unlimited children and get more features with Premium.',
      'childSelector.premiumUpsellLink': 'Upgrade Now',
      'childSelector.noChildrenYet': 'You haven't created any children yet.',
      'childSelector.createFirstChild': 'Create Your First Child',
      'childSelector.age': 'Age: {{age}}',
      'childSelector.genderMale': 'Male',
      'childSelector.genderFemale': 'Female',
      'childSelector.addChild': 'Add Child',
      'childSelector.premiumForMore': 'Upgrade to add more children',
      'childSelector.profile': 'Profile',
      'childSelector.settings': 'Settings',
      'childSelector.admin': 'Admin Panel',
      'childSelector.logout': 'Logout',
      'childSelector.fetchChildrenError': 'Error fetching your children.',
      'childSelector.logoutError': 'Error logging out.',

      // Child Setup
      'childSetup.title': 'Create Your Virtual Child',
      'childSetup.basicInfo': 'Basic Information',
      'childSetup.nameLabel': 'Name',
      'childSetup.namePlaceholder': 'e.g., Leo',
      'childSetup.ageLabel': 'Age (3-16)',
      'childSetup.agePlaceholder': 'e.g., 5',
      'childSetup.genderLabel': 'Gender',
      'childSetup.genderMale': 'Male',
      'childSetup.genderFemale': 'Female',
      'childSetup.birthdayLabel': 'Birthday (Optional)',
      'childSetup.personalityTraits': 'Personality Traits',
      'childSetup.favoriteThings': 'Favorite Things',
      'childSetup.createChildButton': 'Create Child',
      'childSetup.validationError': 'Please fill in all required fields.',
      'childSetup.success': 'Child created successfully!',
      'childSetup.error': 'Error creating child.',
      'childSetup.traitCurious': 'Curious',
      'childSetup.traitCreative': 'Creative',
      'childSetup.traitShy': 'Shy',
      'childSetup.traitEnergetic': 'Energetic',
      'childSetup.traitCalm': 'Calm',
      'childSetup.traitAdventurous': 'Adventurous',
      'childSetup.traitKind': 'Kind',
      'childSetup.traitPlayful': 'Playful',
      'childSetup.thingDrawing': 'Drawing',
      'childSetup.thingReading': 'Reading',
      'childSetup.thingSports': 'Sports',
      'childSetup.thingMusic': 'Music',
      'childSetup.thingGames': 'Video Games',
      'childSetup.thingAnimals': 'Animals',
      'childSetup.thingNature': 'Nature',
      'childSetup.thingCooking': 'Cooking',

      // Chat
      'chat.title': 'Chat with {{childName}}',
      'chat.inputPlaceholder': 'Type your message...',
      'chat.sendMessage': 'Send',
      'chat.loading': 'Thinking...',
      'chat.fetchChildError': 'Error fetching child data.',
      'chat.fetchMessagesError': 'Error fetching messages.',
      'chat.dailyLimitReached': 'You have reached your daily message limit.',
      'chat.apiError': 'An error occurred while getting a response.',

      // Limit Modal
      'limitModal.title': 'Daily Limit Reached',
      'limitModal.description': 'You have used all your free messages for today. Upgrade to Premium for unlimited conversations.',
      'limitModal.currentLimit': '20 messages per day',
      'limitModal.upgradeButton': 'Upgrade to Premium',

      // Premium Upsell Modal
      'premiumUpsell.title': 'Go Premium',
      'premiumUpsell.subtitle': 'Unlock all features and have the best experience!',
      'premiumUpsell.feature1': 'Unlimited messages',
      'premiumUpsell.feature2': 'Create multiple virtual children',
      'premiumUpsell.feature3': 'Advanced personality development',
      'premiumUpsell.feature4': 'Priority support',
      'premiumUpsell.perMonth': 'month',
      'premiumUpsell.upgradeButton': 'Upgrade Now',

      // Admin Page
      'admin.title': 'Admin Dashboard',
      'admin.users': 'Users',
      'admin.subscriptions': 'Subscriptions',
      'admin.analytics': 'Analytics',
      'admin.settings': 'Settings',
      'admin.totalUsers': 'Total Users',
      'admin.premiumUsers': 'Premium Users',
      'admin.activeToday': 'Active Today',
      'admin.totalRevenue': 'Total Revenue',
      'admin.searchUser': 'Search user by email...',
      'admin.userTable.header.name': 'Name',
      'admin.userTable.header.email': 'Email',
      'admin.userTable.header.status': 'Status',
      'admin.userTable.header.role': 'Role',
      'admin.userTable.header.actions': 'Actions',
      'admin.userTable.status.free': 'Free',
      'admin.userTable.status.premium': 'Premium',
      'admin.userTable.role.user': 'User',
      'admin.userTable.role.admin': 'Admin',
      'admin.userTable.action.makeAdmin': 'Make Admin',
      'admin.userTable.action.removeAdmin': 'Remove Admin',
      'admin.userTable.action.grantPremium': 'Grant Premium',
      'admin.userTable.action.revokePremium': 'Revoke Premium',
      'admin.confirm.makeAdmin': 'Are you sure you want to make this user an admin?',
      'admin.confirm.removeAdmin': 'Are you sure you want to remove admin rights from this user?',
      'admin.confirm.grantPremium': 'Are you sure you want to grant premium access to this user?',
      'admin.confirm.revokePremium': 'Are you sure you want to revoke premium access from this user?',
      'admin.success.update': 'User updated successfully.',
      'admin.error.update': 'Error updating user.',
      'admin.error.fetch': 'Error fetching data.',
    },
  },
  pt: {
    translation: {
      // Auth
      'auth.signInTitle': 'Acesse sua Conta',
      'auth.signUpTitle': 'Crie uma Nova Conta',
      'auth.emailLabel': 'E-mail',
      'auth.emailPlaceholder': 'voce@exemplo.com',
      'auth.passwordLabel': 'Senha',
      'auth.passwordPlaceholder': '••••••••',
      'auth.confirmPasswordLabel': 'Confirme a Senha',
      'auth.confirmPasswordPlaceholder': '••••••••',
      'auth.signInButton': 'Entrar',
      'auth.signUpButton': 'Cadastrar',
      'auth.loading': 'Carregando...',
      'auth.or': 'ou',
      'auth.signInWithGoogle': 'Entrar com Google',
      'auth.signInWithApple': 'Entrar com Apple',
      'auth.noAccount': 'Não tem uma conta?',
      'auth.haveAccount': 'Já tem uma conta?',
      'auth.signUpLink': 'Cadastre-se',
      'auth.signInLink': 'Faça login',
      'auth.passwordMismatch': 'As senhas não coincidem!',
      'auth.signUpSuccess': 'Cadastro realizado com sucesso! Por favor, verifique seu e-mail para confirmar.',
      'auth.signInSuccess': 'Bem-vindo(a) de volta!',

      // Child Selector
      'childSelector.title': 'Selecione uma Criança',
      'childSelector.premiumUpsellText': 'Você está no plano gratuito. Crie filhos ilimitados e tenha mais recursos com o Premium.',
      'childSelector.premiumUpsellLink': 'Fazer Upgrade',
      'childSelector.noChildrenYet': 'Você ainda não criou nenhuma criança.',
      'childSelector.createFirstChild': 'Criar sua Primeira Criança',
      'childSelector.age': 'Idade: {{age}} anos',
      'childSelector.genderMale': 'Menino',
      'childSelector.genderFemale': 'Menina',
      'childSelector.addChild': 'Adicionar Criança',
      'childSelector.premiumForMore': 'Faça upgrade para adicionar mais crianças',
      'childSelector.profile': 'Perfil',
      'childSelector.settings': 'Configurações',
      'childSelector.admin': 'Painel Admin',
      'childSelector.logout': 'Sair',
      'childSelector.fetchChildrenError': 'Erro ao buscar suas crianças.',
      'childSelector.logoutError': 'Erro ao sair.',

      // Child Setup
      'childSetup.title': 'Crie seu Filho Virtual',
      'childSetup.basicInfo': 'Informações Básicas',
      'childSetup.nameLabel': 'Nome',
      'childSetup.namePlaceholder': 'Ex: Léo',
      'childSetup.ageLabel': 'Idade (3-16)',
      'childSetup.agePlaceholder': 'Ex: 5',
      'childSetup.genderLabel': 'Gênero',
      'childSetup.genderMale': 'Menino',
      'childSetup.genderFemale': 'Menina',
      'childSetup.birthdayLabel': 'Aniversário (Opcional)',
      'childSetup.personalityTraits': 'Traços de Personalidade',
      'childSetup.favoriteThings': 'Coisas Favoritas',
      'childSetup.createChildButton': 'Criar Criança',
      'childSetup.validationError': 'Por favor, preencha todos os campos obrigatórios.',
      'childSetup.success': 'Criança criada com sucesso!',
      'childSetup.error': 'Erro ao criar a criança.',
      'childSetup.traitCurious': 'Curioso(a)',
      'childSetup.traitCreative': 'Criativo(a)',
      'childSetup.traitShy': 'Tímido(a)',
      'childSetup.traitEnergetic': 'Energético(a)',
      'childSetup.traitCalm': 'Calmo(a)',
      'childSetup.traitAdventurous': 'Aventureiro(a)',
      'childSetup.traitKind': 'Gentil',
      'childSetup.traitPlayful': 'Brincalhão(ona)',
      'childSetup.thingDrawing': 'Desenhar',
      'childSetup.thingReading': 'Ler',
      'childSetup.thingSports': 'Esportes',
      'childSetup.thingMusic': 'Música',
      'childSetup.thingGames': 'Videogames',
      'childSetup.thingAnimals': 'Animais',
      'childSetup.thingNature': 'Natureza',
      'childSetup.thingCooking': 'Cozinhar',

      // Chat
      'chat.title': 'Conversar com {{childName}}',
      'chat.inputPlaceholder': 'Digite sua mensagem...',
      'chat.sendMessage': 'Enviar',
      'chat.loading': 'Pensando...',
      'chat.fetchChildError': 'Erro ao carregar dados da criança.',
      'chat.fetchMessagesError': 'Erro ao carregar mensagens.',
      'chat.dailyLimitReached': 'Você atingiu seu limite diário de mensagens.',
      'chat.apiError': 'Ocorreu um erro ao obter uma resposta.',

      // Limit Modal
      'limitModal.title': 'Limite Diário Atingido',
      'limitModal.description': 'Você usou todas as suas mensagens gratuitas por hoje. Faça um upgrade para Premium para conversas ilimitadas.',
      'limitModal.currentLimit': '20 mensagens por dia',
      'limitModal.upgradeButton': 'Virar Premium',

      // Premium Upsell Modal
      'premiumUpsell.title': 'Seja Premium',
      'premiumUpsell.subtitle': 'Desbloqueie todos os recursos e tenha a melhor experiência!',
      'premiumUpsell.feature1': 'Mensagens ilimitadas',
      'premiumUpsell.feature2': 'Crie múltiplos filhos virtuais',
      'premiumUpsell.feature3': 'Desenvolvimento avançado de personalidade',
      'premiumUpsell.feature4': 'Suporte prioritário',
      'premiumUpsell.perMonth': 'mês',
      'premiumUpsell.upgradeButton': 'Fazer Upgrade Agora',

      // Admin Page
      'admin.title': 'Painel de Administração',
      'admin.users': 'Usuários',
      'admin.subscriptions': 'Assinaturas',
      'admin.analytics': 'Analytics',
      'admin.settings': 'Configurações',
      'admin.totalUsers': 'Total de Usuários',
      'admin.premiumUsers': 'Usuários Premium',
      'admin.activeToday': 'Ativos Hoje',
      'admin.totalRevenue': 'Receita Total',
      'admin.searchUser': 'Buscar usuário por e-mail...',
      'admin.userTable.header.name': 'Nome',
      'admin.userTable.header.email': 'E-mail',
      'admin.userTable.header.status': 'Status',
      'admin.userTable.header.role': 'Função',
      'admin.userTable.header.actions': 'Ações',
      'admin.userTable.status.free': 'Grátis',
      'admin.userTable.status.premium': 'Premium',
      'admin.userTable.role.user': 'Usuário',
      'admin.userTable.role.admin': 'Admin',
      'admin.userTable.action.makeAdmin': 'Tornar Admin',
      'admin.userTable.action.removeAdmin': 'Remover Admin',
      'admin.userTable.action.grantPremium': 'Dar Premium',
      'admin.userTable.action.revokePremium': 'Revogar Premium',
      'admin.confirm.makeAdmin': 'Tem certeza que deseja tornar este usuário um administrador?',
      'admin.confirm.removeAdmin': 'Tem certeza que deseja remover os direitos de administrador deste usuário?',
      'admin.confirm.grantPremium': 'Tem certeza que deseja conceder acesso premium a este usuário?',
      'admin.confirm.revokePremium': 'Tem certeza que deseja revogar o acesso premium deste usuário?',
      'admin.success.update': 'Usuário atualizado com sucesso.',
      'admin.error.update': 'Erro ao atualizar usuário.',
      'admin.error.fetch': 'Erro ao buscar dados.',
    },
  },
  // Adicione outras línguas aqui (es, fr, de, etc.)
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false, // react already safes from xss
    },
    detection: {
      order: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],
      caches: ['cookie', 'localStorage'],
    },
  });

export default i18n;
